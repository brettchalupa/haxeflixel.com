<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>

	<meta charset="utf-8" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>FlxSave | HaxeFlixel 2D Game Engine</title>

	<meta name="description" content="HaxeFlixel is a 2D Game Engine that lets you create cross-platform games easier with free, open source technology!" />
	<meta name="keywords" content="gamedev, game development, cross-platform, haxe, flixel" />
	<meta name="author" content="" />
	<meta name="viewport" content="width=device-width" />

	<link rel="shortcut icon" href="/images/favicon.ico" />

	<!--[if lt IE 9]>
	<script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<link rel="stylesheet" href="/styles/style.css" />

</head>


<body>

<header>
	<nav>

		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">

				<div class="navbar-header">
					<button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
						<span class="icon-bar">
						<span class="icon-bar">
						<span class="icon-bar">
					</span></span></span></button>
					<a href="/" class="navbar-brand"><img src="/images/haxeflixel-header.png" alt="HaxeFlixel" /></a>
				</div>

				<div class="navbar-collapse collapse">

					<ul class="nav navbar-nav">

						<li class="dropdown ">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples <span class="caret"></span></a>
							<ul class="dropdown-menu inverse-dropdown">
							  <li><a href="/demos">Demos</a></li>
							  <li><a href="https://snippets.haxeflixel.com/">Snippets</a></li>
							</ul>
						</li>

						<li>
							<a href="/showcase">Showcase</a>
						</li>

						<li>
							<a href="/blog">Blog</a>
						</li>

						<li class="active">
							<a href="/documentation">Docs</a>
						</li>

						<li>
							<a href="http://api.haxeflixel.com">API</a>
						</li>

						<li>
							<a href="https://github.com/HaxeFlixel/flixel/discussions">Forum</a>
						</li>

					</ul>
		
					<form class="navbar-form search-form" role="search" action="https://google.com/search" method="get">
    <div class="form-group">
        <input type="search" name="q" class="form-control" placeholder="Search" />
        <input type="hidden" name="q" value="site:http://haxeflixel.com" />
    </div>
</form>

				</div>

			</div>

		</div>

	</nav>
</header>

<div class="container container-main">
	<div class="row">

		<div class="col-md-3">
			<div class="doc-nav affix">
				<ul class="nav">



	<li>
		<h4><a href="/documentation/getting-started">Getting Started</a></h4><h4>
	</h4></li>

	



	<li>
		<h4><a href="/documentation/tutorial">Tutorial</a></h4><h4>
	</h4></li>

	



	<li>
		<h4><a href="/documentation/haxeflixel-handbook">HaxeFlixel Handbook</a></h4><h4>
	</h4></li>

	
		
			<li class="about=&quot;/documentation/haxeflixel-handbook&quot;">
				<a href="/documentation/haxeflixel-handbook"> HaxeFlixel Handbook </a>
			</li>
		
			<li class="about=&quot;/documentation/flixel-display-list&quot;">
				<a href="/documentation/flixel-display-list"> Flixel Display List </a>
			</li>
		
			<li class="about=&quot;/documentation/flxgroup&quot;">
				<a href="/documentation/flxgroup"> FlxGroup </a>
			</li>
		
			<li class="about=&quot;/documentation/flxsprite&quot;">
				<a href="/documentation/flxsprite"> FlxSprite </a>
			</li>
		
			<li class="about=&quot;/documentation/flxstate&quot;">
				<a href="/documentation/flxstate"> FlxState </a>
			</li>
		
			<li class="active" about="/documentation/flxsave">
				<a href="/documentation/flxsave"> FlxSave </a>
			</li>
		
			<li class="about=&quot;/documentation/flxtween&quot;">
				<a href="/documentation/flxtween"> FlxTween </a>
			</li>
		
			<li class="about=&quot;/documentation/haxeflixel-conditionals&quot;">
				<a href="/documentation/haxeflixel-conditionals"> HaxeFlixel Conditionals </a>
			</li>
		
			<li class="about=&quot;/documentation/haxeflixel-targets&quot;">
				<a href="/documentation/haxeflixel-targets"> HaxeFlixel Targets </a>
			</li>
		
			<li class="about=&quot;/documentation/desktop-targets&quot;">
				<a href="/documentation/desktop-targets"> Desktop Targets </a>
			</li>
		
			<li class="about=&quot;/documentation/mobile-targets&quot;">
				<a href="/documentation/mobile-targets"> Mobile Targets </a>
			</li>
		
			<li class="about=&quot;/documentation/android&quot;">
				<a href="/documentation/android"> Android </a>
			</li>
		
			<li class="about=&quot;/documentation/ios&quot;">
				<a href="/documentation/ios"> iOS </a>
			</li>
		
			<li class="about=&quot;/documentation/neko&quot;">
				<a href="/documentation/neko"> Neko </a>
			</li>
		
			<li class="about=&quot;/documentation/keyboard&quot;">
				<a href="/documentation/keyboard"> Keyboard </a>
			</li>
		
			<li class="about=&quot;/documentation/mouse&quot;">
				<a href="/documentation/mouse"> Mouse </a>
			</li>
		
			<li class="about=&quot;/documentation/gamepads&quot;">
				<a href="/documentation/gamepads"> Gamepads </a>
			</li>
		
			<li class="about=&quot;/documentation/actions&quot;">
				<a href="/documentation/actions"> Actions </a>
			</li>
		
			<li class="about=&quot;/documentation/troubleshooting&quot;">
				<a href="/documentation/troubleshooting"> Troubleshooting </a>
			</li>
		
			<li class="about=&quot;/documentation/debugger&quot;">
				<a href="/documentation/debugger"> Debugger </a>
			</li>
		
			<li class="about=&quot;/documentation/debugger-interaction&quot;">
				<a href="/documentation/debugger-interaction"> Debugger - Interaction </a>
			</li>
		
	



	<li>
		<h4><a href="/documentation/resources">Resources</a></h4><h4>
	</h4></li>

	



	<li>
		<h4><a href="/documentation/community">Community</a></h4><h4>
	</h4></li>

	



</ul>
			</div>
		</div>

		<div class="col-md-9 doc-content" role="main">
			<h1 class="title">FlxSave</h1>

			
				<a href="http://api.haxeflixel.com/flixel/util/FlxSave.html" class="btn btn-sm btn-api" target="_blank"><span class="glyphicon glyphicon-cog"></span> API </a>
			
			<a href="https://github.com/HaxeFlixel/flixel-docs/blob/master/documentation/02_handbook/05-flxsave.html.md" class="btn btn-sm btn-edit" target="_blank"><span class="glyphicon glyphicon-pencil"></span> Edit </a>

			<pre xmlns="" class="highlighted">
<span class="mtk16">import</span><span class="mtk1"> flixel.util.</span><span class="mtk11">FlxSave</span><span class="mtk1">;</span>
</pre>
<p>HaxeFlixel gives you the <code>FlxSave</code> class to manage saving and loading your game's data. You might use it to save and load a high score table, or the position and status of the player and enemies, or custom settings the player has selected. Like most of HaxeFlixel, <code>FlxSave</code> is cross-platform in functionality.</p>
<p>To use <code>FlxSave</code> you need a variable typed to that class. You can create your own variable (perhaps in your registry class, in your gameplay <code>FlxState</code>, or as a local variable in your save/load functions). You may also use the one that HaxeFlixel itself uses (<code>FlxG.save</code>).</p>
<p>The example code used below is largely taken from the <a href="http://haxeflixel.com/demos/Save/">HaxeFlixel save demo</a>. If you have already installed HaxeFlixel, then to install the demo project just open a command line utility, navigate to the folder you would like to install into, and enter the command <code>flixel create Save</code>, or download the source via GitHub using the link on the demo web page.</p>
<h4 id="saving">Saving</h4>
<p>So how can you save some of your game data? Once you have your variable, you will need to initialize, then bind it:</p>
<pre xmlns="" class="highlighted">
<span class="mtk13">_gameSave</span><span class="mtk1"> </span><span class="mtk17">=</span><span class="mtk1"> </span><span class="mtk5">new</span><span class="mtk1"> </span><span class="mtk11">FlxSave</span><span class="mtk1">(); </span><span class="mtk4">// initialize</span>
<span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk12">bind</span><span class="mtk1">(</span><span class="mtk9">"SaveDemo"</span><span class="mtk1">); </span><span class="mtk4">// bind to the named save slot</span>
</pre>
<p>Note the string "SaveDemo". This is how HaxeFlixel tracks what save slot you are binding to in local storage. If you want to have multiple saves, you will probably want to define a series of strings to identify each slot, eg. "SaveSlot1", "SaveSlot2", etc. and bind to the appropriate one. For more information on using multiple save slots, take a look at <a href="https://web.archive.org/web/20150116114005/http://www.funstormgames.com/blog/2012/01/flixel-advanced-saving-tips-tricks/">Wolfgang's article</a> on the subject for AS3 Flixel, but keep in mind that <a href="http://books.openfl.org/as3-conversion-guide/comparing-haxe-and-actionscript/overview.html">the AS3 syntax is a little different from Haxe</a>.</p>
<p>Note: If you plan to use <code>FlxG.save</code> you can skip the initializing and binding steps, as HaxeFlixel has done it for you.</p>
<p>Once bound, the save is essentially "live". To write to it you use the .data property of variable, treating it as an <a href="https://haxe.org/manual/types-dynamic.html">object</a>:</p>
<pre xmlns="" class="highlighted">
<span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk13">data</span><span class="mtk1">.</span><span class="mtk13">boxPositions</span><span class="mtk1"> </span><span class="mtk17">=</span><span class="mtk1"> </span><span class="mtk5">new</span><span class="mtk1"> </span><span class="mtk11">Array</span><span class="mtk1">&lt;</span><span class="mtk11">FlxPoint</span><span class="mtk1">&gt;();</span>
<span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk13">data</span><span class="mtk1">.</span><span class="mtk13">boxPositions</span><span class="mtk1">.</span><span class="mtk12">push</span><span class="mtk1">(</span><span class="mtk13">box</span><span class="mtk1">.</span><span class="mtk12">getPosition</span><span class="mtk1">());</span>

<span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk13">data</span><span class="mtk1">.</span><span class="mtk13">enemy</span><span class="mtk1"> </span><span class="mtk17">=</span><span class="mtk1"> </span><span class="mtk13">myEnemy</span><span class="mtk1">;</span>

<span class="mtk4">// save data</span>
<span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk12">flush</span><span class="mtk1">();</span>
</pre>
<h5 id="flush-">flush()</h5>
<p>Writes the local shared object to disk immediately.
<strong>Required on non-Flash targets.</strong></p>
<h5 id="serialization">Serialization</h5>
<p>In certain cases you may need to <a href="https://haxe.org/manual/std-serialization.html">serialize and unserialize</a> your data (fancy words for "take my data and turn it into a specially formatted string, or back into data") to avoid errors, but you may want to try it without serialization unless you experience problems.</p>
<h4 id="loading">Loading</h4>
<p>In order to retrieve your saved data, you simply make sure you have a correctly bound <code>FlxSave</code> variable and read each value from the <code>.data</code> property.</p>
<pre xmlns="" class="highlighted">
<span class="mtk5">var</span><span class="mtk1"> </span><span class="mtk13">position</span><span class="mtk1"> </span><span class="mtk17">=</span><span class="mtk1"> </span><span class="mtk13">_gameSave</span><span class="mtk1">.</span><span class="mtk13">data</span><span class="mtk1">.</span><span class="mtk13">boxPositions</span><span class="mtk1">[</span><span class="mtk13">tempCount</span><span class="mtk1">];</span>
<span class="mtk13">box</span><span class="mtk1">.</span><span class="mtk12">setPosition</span><span class="mtk1">(</span><span class="mtk13">position</span><span class="mtk1">.</span><span class="mtk13">x</span><span class="mtk1">, </span><span class="mtk13">position</span><span class="mtk1">.</span><span class="mtk13">y</span><span class="mtk1">);</span>
</pre>
<p>This means that, depending on your save needs, when loading a save slot you may need to loop through a long list of data to assign each of the values back to it's correct home.</p>
<h4 id="existing-save-data">Existing save data</h4>
<p>When you save data to a given <code>FlxSave</code> save slot there is, of course, the possibility that data already exists in that slot (hopefully your saved data from an earlier save). One way to test for this is to check if one of your variables is null. If save data does already exist and you plan to save an entire fresh set of new data, then to avoid carrying over values from an earlier save you may wish to either go through and initialize or reset each of the potentially saved variables to some default value (or null) before saving your new set, or you may wish to erase the save data entirely (probably not a good idea if you're using <code>FlxG.save</code>).</p>
<p><code>FlxSave</code> provides an <code>.erase()</code> method to help with this process, but keep in mind that calling it on a bound <code>FlxSave</code> variable will: immediately erase all the data in .data, save the slot in the erased state (any earlier data is now completely gone), and also destroy the binding to the save slot. This last point is important to note, as after the binding has been broken <code>FlxSave</code> may still let you assign to .data and even call other methods without errors to indicate that the data is not actually being stored at all. So if you do use the <code>.erase()</code> method, don't forget to call <code>.bind()</code> again before you save or load any further data.</p>
<h4 id="other-methods">Other methods</h4>
<p>In the Save demo the application creates and binds a <code>FlxSave</code> variable when the demo state initializes (see <code>PlayState#create()</code>), and then leaves this variable accessible for loading and saving from that point on. This allows you to continually update the save object when necessary, but it's equally valid to create, initialize, and bind a FlxSave variable only when loading and saving. In that case you should familiarize yourself with <code>.close()</code> and <code>.destroy()</code>for safe and efficient handling of your <code>FlxSave</code>.</p>
<p>To review these additional methods and check out any other <code>FlxSave</code> functionality in more detail, take a look at the <a href="http://api.haxeflixel.com/flixel/util/FlxSave.html">API documentation</a> or look at the class definition itself (currently under the util package in the flixel library).</p>


			<br />
			<hr />

			<ul class="pager">
				

				<li class="previous">
					<a href="/documentation/flxstate">&lt; FlxState</a>
				</li>
				


				
				<li class="next">
					<a href="/documentation/flxtween">FlxTween &gt;</a>
				</li>
				
			</ul>


		</div>
	</div>
</div>

<footer>
	<div class="footer-main">
		<div class=" container">

			<div class="footer-social">

				<iframe width="120px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="https://ghbtns.com/github-btn.html?user=HaxeFlixel&amp;repo=flixel&amp;type=watch&amp;count=true&amp;size=small"></iframe>

				<a href="https://twitter.com/haxeflixel" class="twitter-follow-button" data-show-count="true" data-lang="en" data-size="small">Follow @haxeflixel</a>

				<a class="footer-patreon" href="https://www.patreon.com/haxeflixel" alt="Patreon" title="Support us on Patreon">
					<img src="/images/patreon-logo-small.svg" alt="Haxeflixel Patreon" title="Patreon" />
				</a>

				<script>!function (d, s, id)
				{
					var js, fjs = d.getElementsByTagName (s)[0];
					if (!d.getElementById (id))
					{
						js = d.createElement (s);
						js.id = id;
						js.src = "//platform.twitter.com/widgets.js";
						fjs.parentNode.insertBefore (js, fjs);
					}
				} (document, "script", "twitter-wjs");</script>

			</div>

			<div class="footer-powered-by">
				<p>HaxeFlixel is powered by</p>
				<a href="http://haxe.org"><img src="/images/haxe.svg" alt="Haxe" title="Haxe" /></a>
				+
				<a href="http://openfl.org"><img class="openfl-footer-logo" src="/images/openfl.svg" alt="OpenFL" title="OpenFL" /></a>
				+
				<a href="http://flixel.org"><img class="flixel-footer-logo" src="/images/flixel.svg" alt="Flixel" title="Flixel" /></a>
			</div>

		</div>
	</div>
</footer>

<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-35511281-1');
ga('send', 'pageview');</script><script defer="defer" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script defer="defer" src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script><script defer="defer" src="/vendor/twitter-bootstrap-3/js/dropdown.js"></script><script defer="defer" src="/vendor/twitter-bootstrap-3/js/transition.js"></script><script defer="defer" src="/vendor/twitter-bootstrap-3/js/collapse.js"></script>




</body></html>